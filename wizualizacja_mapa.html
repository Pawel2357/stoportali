<!DOCTYPE html>
<html>
  <head>
  	<meta charset="utf-8">
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8">

    //<script src="d3.min.js" charset="utf-8">
    	</script>


    <style>
    	.axis path,
    	.axis line {
    		fill: none;
    		stroke: black;
			shape-rendering: crispEdges;
    	}

    	.axis text {
    		font-family: sans-serif;
    		font-size: 10px;
    	}

    	h1 {
    		font-family: sans-serif;
    		font-weight: 300;
    	}
	</style>
  </head>
  <body>


	


    <script>

    	//basic variables
    	var h=100;
    	var w=400;
    	var ds; //global variable for data
    	var padding = 20;

		//loading data from csv
		d3.csv("dane2.csv", function(error, data){

			if(error) {
				console.log(error);
			} else {
				console.log(data);
				ds = data;
			}
		});	

		var lineFun = d3.svg.line()
			.x( function(d) {return xScale(d.month); })
			.y( function(d) {return yScale(d.najdluzej_trwajace_ogloszenie); })  //wejscia later can be changed for column name
			.interpolate("linear");


		

		var svg = d3.select("body").append("svg").attr({width:w, height:h});

		var viz = svg.append("path")
			.attr({
				d: lineFun(ds),    //place where I insert data - ds variable
				"stroke" : "purple",
				"stroke-width" : 2,
				"fill" : "none"
			});


		

		var xScale = d3.scale.linear()
			.domain([
				d3.min(ds, function(d) {return d.month; }),
				d3.max(ds, function(d) {return d.month; })

				])
			.range([padding, w-padding]);

		var yScale = d3.scale.linear()
			.domain([
				d3.min( ds, function(d) {return d.wejscie; }),
				d3.max(ds, function(d) {return d.wejscie; })
				])
			.range([h, 0]);

		var yAxis = d3.svg.axis().scale(yScale).orient("left");	

		var axis = svg.append("g").call(yAxis)
			.attr("class", "axis")
			.attr("transform", "translate("+ padding + ", 0)");


		
    </script>




  </body>
</html>